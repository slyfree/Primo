# Primo
Оглавление
Обновления в версии Оркестратора 23.1	1
Новые функции	2
Исправленные ошибки	4
Обновления в версии Оркестратора 23.4	5
Новые функции	5
Исправленные ошибки	7
Обновления в версии Оркестратора 23.5	7
Новые функции	8
Исправленные ошибки	8
Обновления в версии Оркестратора 23.6	9
Новые функции	9
Исправленные ошибки	10
Оркестратор 23.7	11
Новые функции	11
Исправленные ошибки	11
Оркестратор 23.8	12
Новые функции и улучшения	12
Исправленные ошибки	13
Оркестратор 23.9	14
Новые функции и улучшения	14
Исправленные ошибки	15


Обновления в версии Оркестратора 23.1
ОБРАЩАЕМ ВАШЕ ВНИМАНИЕ! С 2023 года Primo RPA переходит на новую систему версионирования ПО.
Версии приложений Primo RPA теперь именуются по семантическому принципу: <год>.<месяц>.<номер изменения>.
Переход призван облегчить работу службы поддержки клиентов, навигацию по версиям ПО и понимание совместимости разных продуктов платформы.
Таким образом, примечания к выпуску Оркестратора 23.1 описывают изменения для версии приложения, выпущенной в январе 2023 года.
Новые функции
1.	Добавлена системная учетная запись superadmin, которая имеет такие же права, как и admin, но в дополнение к этому может авторизовываться в любом тенанте.
2.	Улучшения в работе с RPA-проектами:
o	Добавлены теги для проектов. Добавленные теги будут выводиться в таблице с проектами.
o	Добавлен запрос запусков для выбранного проекта. Запрос доступен по кнопке История запусков.
o	Если у проекта есть привязка к роботам, она будет добавляться и для версии.
3.	Улучшения в очереди обмена данными:
o	На странице очереди перестали учитываться удаленные элементы при подсчете общего количества записей.
o	При постановке элемента в очередь стало возможным опционально не проверять валидность дат в свойствах PostponeAt и DeadlineAt.
o	ReadedRobotAt элемента очереди отдается роботу.
o	Добавлен запрос цепочки повторов по RootId элемента очереди, изменение запроса из UI на предмет "только корневые элементы".
o	TTL и DeadlineAt стали учитываться в запросе роботом элементов по фильтру.
4.	Улучшения в работе заданий и триггеров:
o	Для триггера, срабатывающего при добавлении новых элементов очереди, добавлена возможность задавать период опроса очереди в минутах.
o	В триггере на добавление новых элементов очереди стали учитываться свойства элемента PostponeAt и DeadlineAt.
o	Добавлен запрос запусков для выбранного задания. Запрос доступен по кнопке История запусков.
o	Добавлен FiredAtNewItems для заданий и триггеров.
5.	Улучшения в журнале робота:
o	Выполнена оптимизация журнала робота: добавлен IX_RobotId_OperationKey_TimestampUtc для запроса операций робота.
o	Произведено изменение запросов для журнала робота на основе совместного хранения логов робота, логов Оркестратора и логов проекта.
o	В журнале роботов добавлен фильтр по RDP-пользователю.
o	Добавлено отображение версии проекта в журнале операций робота.
6.	Улучшения в работе с машинами роботов:
o	В конфигурационный файл тенанта перемещена настройка таймаута проверки доступности машины робота (ping агента).
o	Стало возможным использовать одну машину робота для нескольких тенантов одновременно.
o	Произведена оптимизация обращения к агенту за счет более надежного хэширования токена.
7.	Улучшения при указании наименований:
o	В именах ресурса (assets) разрешено использование кириллицы, точки и дефиса.
o	Стала разрешена точка в имени пользователя.
o	Улучшен поиск по наименованию в разделах проектов и роботов: теперь он производится по оператору LIKE без учета регистра.
8.	Для клиентских роботов добавлена возможность работать не только с Desktop-лицензиями.
9.	Робот с лицензией Desktop больше не может быть развернут из Оркестратора.
10.	Добавлена возможность подключения PostgreSQL по SSL-сертификату.
11.	Сборка System.Text.Encodings.Web обновлена до версии 5.0.1.
12.	В разделе Все роботы добавлена опция Стереть робота на недоступной машине. В результате применения команды очистятся все поля робота.
13.	В разделе Все роботы добавлен запрос роботов с фильтрами: запрос по состоянию выполнения роботов; для мониторинга роботов.
14.	Стала доступна разблокировка робота агентом из Оркестратора по таймауту.
15.	При разблокировке робота по таймауту стала учитываться дата блокировки агентом.
16.	Появилась возможность опционально отключать RDP-сессию у робота при освобождении лицензии по таймауту.
17.	Появилась возможность настраивать время с последней даты обновления состояния RDP-соединения, после которого соединение считается потерянным.
18.	При завершении старта робота с ошибкой будет освобождаться RDP.
19.	Добавлено адресное (по UserName) разлогирование отключенных RDP-пользователей. При этом дополнительно снимется блокировка (подстраховка на случай падения робота).
20.	Добавлено разлогинивание всех RDP-пользователей на машине робота по соответствующей кнопке в UI Оркестратора.
21.	Стал доступен асинхронный запуск команды разлогинивания, опциональное использование.
22.	В Оркестратор стали передаваться сведения о состоянии робота (через KeepAliveRobot), благодаря которым можно узнать, что робот в настоящий момент запущен и работает.
23.	При принудительном завершении робота отключена проверка его состояния: выполняет ли робот проект/находится в режиме ожидания.
24.	У робота появился параметр командной строки EngineVersion, позволяющий работать с разными версиями ядра.
25.	Появилась настройка, позволяющая установить максимальное количество одновременно работающих роботов.
26.	Изменена обработка очереди команд у агента. Оптимизация произведена для большого количества одновременных развертываний.
27.	Добавлено отображение в UI ошибок старта робота (RobotStartError).
28.	Добавлена запись событий Оркестратора в БД через очередь - для последующей интеграции с Primo.Orchestrator.RobotLogs.
29.	Добавлена очистка БД логов через очередь - для последующей интеграции с Primo.Orchestrator.RobotLogs.
30.	Добавлена передача в робота внешнего URL сервиса приема логов робота.
31.	Добавлена возможность асинхронного выполнения команды завершения робота.
32.	Произведена оптимизация соединений с RabbitMQ, расширено логирование соединений.
33.	В разделе Расписания добавлен вывод информации о расписании, созданном в конструкторе.
34.	Для множественных производственных календарей стало доступным создание двух календарей одновременно, для возможности перехода на следующий год.
35.	В разделе Роли пользователей добавлена сортировка по алфавиту.
36.	В конфигурационном файле значение параметра HardKillStartedTimeout исправлено на секунды.
Исправленные ошибки
1.	Исправлена ошибка подсчета одновременно работающих роботов на машине робота.
2.	Исправлена ошибка в проверке Проект запущен по заданию и еще не завершен.
3.	Исправлена ошибка в запуске заданий по триггеру Запуск при получении Email.
4.	Исключен лишний запрос имени пользователя при открытии журнала Оркестратора.
5.	Исправлена ошибка в проверке Если запрещено наложение задания/проекта, то не только пропускается запуск робота (если в очередь проект добавлен вручную через клиента Rabbit), но и проект не ставится в очередь проектов.
6.	Исправлена ошибка, возникавшая при назначении роли пользователю из того же тенанта.
7.	Устранена ошибка загрузки RPA-проекта в Оркестратор.
8.	Исправлены ошибки конкурентного доступа в RDPSessionsReleaseService.
9.	Исправлена опечатка в параметре конфигурационного файла IntevalForReleaseInSeconds.
10.	Исправлена ошибка в GetRobotEventTypesQueryHandler2.
11.	Исправлена ошибка чтения из очереди по фильтру с включенным параметром check out.
12.	Исправлена ошибка добавления версии проекта из Студии.
13.	Исправлена ошибка авторизации прав пользователя на операции.
14.	Исправлено отображение события ExchangeQueueReEnqueue в журнале Оркестратора.
15.	Исправлена фильтрация по статусам элементов очереди для отображения в UI.
16.	У триггера на добавление новых элементов очереди исправлена ошибка для пустого количества новых элементов.
17.	Исправлена ошибка блокировки робота агентом при ручном запуске робота с проектом - в БД не ставился флаг блокировки.
18.	Исправлена ошибка приема логов со скриншотами рабочего стола.
19.	Исправлена ошибка в KeepAliveRobotService.
20.	Исправлена ошибка в ResendTriggerOrchCommands.
21.	Исправлено получение ошибочного сообщения о блокировке робота при ручном запуске робота.
22.	Исправлена ошибка пропуска проекта в очереди ожидания.
Обновления в версии Оркестратора 23.4
Примечания к выпуску Оркестратора 23.4 описывают изменения для версии приложения, выпущенной в апреле 2023 года.
Новые функции
1.	Добавлена возможность настраивать стратегию очереди проектов отдельно для каждого тенанта. Настройки осуществляются в конфигурационном файле WebApi в секции Tenants в параметре RpaProjectQueueProcessingType. Стратегия на уровне всех тенантов (глобальная), как и ранее, устанавливается в разделе UI Оркестратора Настройки > Стратегия очереди проектов. Если для тенанта не задана стратегия в конфигурационном файле, то будет использоваться глобальная.
2.	При переразвертывании робота стало возможным изменить версию ядра в одноименном параметре. Переразвертывание осуществляется в разделе UI Оркестратора Роботы > Все роботы.
3.	В журнал Оркестратора добавлен атрибут событий operationKey (Код операции). По его значению можно фильтровать данные таблицы: отобразятся все события в рамках указанной операции. Код есть только у тех событий, которые связаны с роботом.
4.	В журнал Оркестратора добавлена детализация событий в столбец EntityData. Теперь в нем отображается информация, связанная с владельцем события (например, имя), ID и прочие метаданные.
5.	В журнал Оркестратора добавлены события:
o	Проект запущен по заданию и еще не завершен (RobotService);
o	Проект запущен по заданию и еще не завершен (RobotStart);
o	Проект запущен в максимальном количестве экземпляров (RobotService);
o	Проект запущен в максимальном количестве экземпляров (RobotStart);
o	Проект запущен в максимальном количестве экземпляров (Queue).
6.	Добавлена возможность управлять таблицами журналов робота и Оркестратора в разделе Настройки > Журналы. На данный момент функция реализована только для PostgeSQL и позволяет:
o	удалять выбранную секцию журнала по кнопке Удалить;
o	выгружать дамп выбранной секции по кнопке Сделать дамп.
7.	Задания по расписанию стало возможным настраивать на закрытие процесса робота, который уже выполняет проект. Включить настройку можно в разделе создания задания по расписанию в параметре Завершение робота. При наступлении заданного в расписании времени выполнение задания роботом будет завершено.
8.	В разделе меню RPA-проекты > Все RPA-проекты стало доступной функция массового удаления роботов, привязанных к проекту. Для этого требуется выделить проект и нажать кнопку Все роботы проекта, после чего отметить всех или несколько роботов, связи с которыми требуется удалить.
9.	Блокировка робота Агентом стала настройкой по умолчанию. Настройка помогает избежать возможных накладок при интенсивной работе робота. Управление блокировкой осуществляется в конфигурационном файле WebApi в секции RobotStart в параметре UseAgentLock.
10.	Установлен запрет на ручной запуск (без задания) проекта с аргументами, поскольку аргументы автоматически привязываются к заданию.
11.	Добавлена возможность использовать SSL-сертификат для брокера сообщений RabbitMQ.
12.	Улучшена работа с установкой соединений у RabbitMQ.
13.	Данные в таблице RPA-проектов стали сортироваться на стороне сервера (ранее - постранично на клиенте), чтобы сделать результат сортировки точнее.
14.	Оптимизирована работа мониторинга: сокращено время отклика формы на большом объеме записей (например, свыше 20 млн).
15.	Улучшено отображение журнала Оркестратора: ускорена загрузка страницы.
Исправленные ошибки
1.	При добавлении версии проекта возникала ошибка: в параметрах проекта устанавливались значения по умолчанию. Под параметрами подразумеваются такие настройки проекта в Оркестраторе, как Закрыть RDP-сессию, Не повторять в очереди проектов и т.п. Теперь значение параметров будет соответствовать активной версии проекта.
2.	В заданиях, где использовался параллельный запуск N роботов, могла возникать ошибка из-за настройки дополнительных ограничений в задании и проекте (например, при запрете наложения). Теперь параллельный запуск задания осуществляется корректно.
3.	Исправлена ошибка в запросе плоского представления журнала робота для MSSQL.
4.	Исправлена ошибка с последовательностью вызова при запуске проекта - возникала блокировка LockAt.
5.	Исправлена ошибка с отображением столбца Запуск в ограниченном кол-ве экземпляров в таблице RPA-проектов.
6.	Исправлена ошибка с фильтрацией элементов в статусе New (очереди обмена данными).
7.	Исправлена ошибка, при которой для отображения предупреждения о стратегии подсчитывались роботы и проекты без учета удаленных.
Обновления в версии Оркестратора 23.5
Примечания к выпуску Оркестратора 23.5 описывают изменения для версии приложения, выпущенной в мае 2023 года.
‼️ Обращаем внимание, что, начиная с этой версии, роботы больше не входят в комплект поставки Оркестратора. Дистрибутивы роботов будут распространяться отдельно.
Новые функции
1.	В комплект поставки добавлен локальный NuGet-сервер, использование которого особенно важно для организаций с изолированной сетью. Сервер может работать самостоятельно либо быть интегрирован с Оркестратором. В случае, если NuGet-сервер интегрирован с Оркестратором, им возможно управлять в разделе Настройки > NuGet (UI). Соответствующие права есть только у администратора. Пакеты, загруженные администратором, становятся доступными для установки в Primo Studio и Visual Studio.
2.	Добавлена поддержка обособленного журнала для десктопных роботов. Просмотр журнала доступен в разделе меню Клиентские роботы в UI Оркестратора. Клиентский робот распознается в Оркестраторе по идентификатору задачи из Primo Robot Runner.
3.	Десктопные роботы с этой версии стали поддерживать работу с очередью обмена данными.
4.	Добавлена возможность редактировать задания. Для этого появилась кнопка Редактировать в соответствующем разделе.
5.	В названиях очередей обмена данными стали разрешены такие символы, как дефис, подчеркивание и точка. Количество символов увеличено до 200.
6.	Стала поддерживаться рассылка уведомлений с типом Все события Оркестратора. Подписка на уведомления создается администратором индивидуально для каждого пользователя в разделе Настройки > Пользователи. Рассылка осуществляется не по всем событиям, а только по тем, которые были заданы в конфигурационном файле службы States. Чтобы настроить список событий, следует указать их коды в параметре AllEventsResolveList в секции RabbitMQ.
7.	До 10 минут увеличено верхнее ограничение для интервала опроса ящика входящей почты.
8.	Количество символов в наименовании задания увеличено до 200. Это позволит сделать названия более полными и ясными для восприятия.
9.	На странице добавления RPA-проекта добавлена сортировка его процессов.
Исправленные ошибки
1.	Исправлена ошибка с несрабатыванием триггера на новые элементы очереди, если интервал опроса задан в минутах. Теперь интервал опроса в минутах работает корректно.
2.	Исправлена одна из причин ошибки, в результате которой не стартовали роботы с Оркестратора: отображался статус запуска 75%. С этой версии работа роботов стала более надежной.
3.	Исправлены ошибки в работе с очередью обмена данными:
o	ошибка чтения элемента очереди с параметром Занимать (Check-out);
o	ошибка, возникавшая в запросе элементов очереди.
4.	Исключена возможность привязки ресурсов (Assets) к RobotKey в методах v2, поскольку RobotKey имеет динамическое значение. С этой версии привязка происходит по ID робота. В случае удаления робота ресурс будет отвязан от него.
Обновления в версии Оркестратора 23.6
Примечания к выпуску Оркестратора 23.6 описывают изменения для версии приложения, выпущенной в июне 2023 года.
Новые функции
1.	Добавлена возможность деактивировать просроченные/невалидные лицензии. Функция доступна администратору Оркестратора в разделе Настройки > Лицензии при выборе соответствующей лицензии. Деактивация позволяет избавиться от избыточных записей в журнале, связанных с проверкой лицензий на просроченность/валидность. Деактивированную лицензию впоследствии можно вновь сделать активной.
2.	В форму развертывания дистрибутива Робота, в том числе массового, добавлена настройка Интервал. Параметр определяет интервал передачи Роботом своего состояния в Оркестратор (запрос KeepAlive). Увеличение интервала может пригодиться для больших проектов, где нет необходимости часто отправлять состояние Робота в Оркестратор. Значение указывается в миллисекундах.
3.	В форму редактирования пользователя добавлена настройка Требовать смену пароля при следующем входе в систему. Если параметр включен, то смена пароля станет обязательным условием. Управление настройкой доступно администратору (в т.ч. тенанта) в разделе Настройки > Пользователи.
4.	Добавлена возможность множественного выделения элементов очереди для последующего клонирования или удаления.
5.	Стало невозможным удаление очереди обмена данными, если она используется в триггерах.
6.	В форму публикации NuGet-пакетов (Настройки > NuGet) добавлена возможность копировать команды, предназначенные для публикации пакетов без Оркестратора.
7.	Улучшена логика ряда процессов для работы с БД. Оптимизированы:
o	запуск триггеров;
o	ограничение для потока событий триггеров;
o	извлечение элементов из очереди данных по FIFO;
o	прием и обработка состояний Роботов;
o	мягкая остановка Роботов;
o	занятие и освобождение лицензий;
o	освобождение RDP-сессий;
o	обработка событий старта и завершения проекта Роботом;
o	актуализация активных пользователей на главной странице;
o	добавлен подсчет процессов Роботов на Агенте для корректной работы ограничения по числу масимального количества работающих Роботов;
o	выполнена оптимизация соединений/каналов с RabbitMQ.
Исправленные ошибки
1.	Исправлена ошибка, в результате которой при поиске подходящего Робота возникали блокировки в БД.
2.	Исправлена ошибка, в результате которой Робот не мог запуститься при добавлении новой версии проекта и назначении её активной.
3.	Исправлена ошибка, в результате которой невозможно было разблокировать Робота, если на машине Робота превышено максимальное количество Роботов.
4.	Исправлена ошибка, связанная с бесконечным подсчетом попыток разлогирования отключенного RDP-пользователя. Теперь подсчет работает корректно.
5.	При удалении задания, по которому в очередь проектов уже был добавлен проект, возникала ошибка сервера. Теперь выводится корректный текст ошибки, либо задание сразу удаляется при наличии такой возможности.
6.	При изменении пагинации (со 100/стр. на иное значение) в разделе Очереди обмена данными таблица становилась пустой. Ошибка исправлена.
7.	Исправлена ошибка с подсчетом лицензий на главной странице (Обзор): из подсчета исключены отозванные лицензии.
8.	В очереди обмена данными не отображались статусы Роботов. Ошибка исправлена.
9.	Исправлена некорректная сортировка элементов в очереди обмена данными при отображении в UI. Теперь новые элементы попадают в конец очереди.
10.	При изменении элемента очереди, находящегося не на 1-й странице, неправильно отображался список элементов: вместо текущей страницы выводился список с 1-й. При этом само действие производилось корректно - элемент клонировался/удалялся. Ошибка исправлена.
Оркестратор 23.7
Примечания к выпуску Оркестратора 23.7 описывают изменения для версии приложения, выпущенной в июле 2023 года.
Новые функции
1.	Добавлена видеотрансляция активной RDP-сесии машины робота. Трансляция помогает быстрее понять, запустился ли робот, и отследить его действия в реальном времени. Функция не подразумевает перехват управления RDP-сессией и никоим образом не мешает ее работе. Запись видео не ведется. Чтобы трансляция была доступна в UI Оркестратора, у службы RDP2 должны быть установлены соответствующие настройки конфигурации. Просмотреть трансляцию можно:
o	в разделе Настройки > Машины роботов > Все RDP-пользователи выбранной машины. Окно трансляции вызывается из столбца RDP-сессия активна по кнопке Консоль.
o	в разделе Все роботы по нажатию кнопки Консоль. Опция доступна только, если робот и RDP-сесия активны.
2.	Оптимизирована работа экземпляров Оркестратора при развертывании в одном кластере. Теперь в момент запуска им будет назначаться свой диапазон уникальных идентификаторов сущностей из базы данных. В результате мониторинг роботов, машин роботов и RDP-сессий со стороны Оркестратора будет выполняться быстрее.
3.	Оптимизирована работа с RPA-проектами: больше не проверяется наличие файлов проекта на диске, поскольку их хранение перенесено в БД.
4.	В БД ltools стала фиксироваться приостановка машин роботов: период, когда к серверу Оркестратора не подключена ни одна учетная запись робота.
Исправленные ошибки
1.	Пользователям с авторизацией через Active Directory были доступны неполные возможности UI Оркестратора, в отличие от внутренних пользователей. Данная ошибка исправлена, тип авторизации более не влияет на набор прав.
2.	Для заданий с запуском по расписанию исправлен вывод значения в колонке Следующая дата по расписанию. Теперь оно отображается сразу после создания задания. Ранее - только после первого запуска.
3.	При загрузке новой версии RPA-проекта не сохранялось состояние параметра Закрыть RDP-сессию. Ошибка исправлена - значение, установленное в момент загрузки, будет сохраняться. В том числе при назначении этой версии активной.
4.	Исправлена ошибка, из-за которой при запуске WebApi брокер сообщений RabbitMQ не создавал в нем каналы.
5.	В целях безопасности парольная фраза от сертификата PKCS12, для работы с RabbitMQ, стала шифроваться посредством утилиты PasswordEncryptor.zip (входит в комплект поставки).
6.	При различии временных зон Оркестратора и БД не происходило своевременного снятия блокировок триггеров. Ошибка исправлена.
7.	Исправлен неправильный HTTP-статус ответа, который возвращается при ошибке «Попытка изменить статус элемента другим роботом».
Оркестратор 23.8
Примечания к выпуску Оркестратора 23.8 описывают изменения для версии приложения, выпущенной в августе 2023 года.
Новые функции и улучшения
1.	Для очередей обмена данными добавлена статистика по элементам. Она отображается в разделе Роботы > Очереди обмена данными в столбце Кол-во элементов. Статистика представлена в виде кольцевой диаграммы и позволяет быстро просмотреть, сколько в очереди новых элементов, какое число уже находится в работе и т. д. При нажатии на гиперссылку, размещенную в диаграмме, осуществится переход в конкретную очередь, где также появился график со временем обработки транзакции. Его можно увидеть над таблицей элементов.
2.	Добавлена возможность мультитенантной авторизации AD-пользователей. Теперь, если в конфигурационном файле включена мультитенантность, то один AD-пользователь сможет авторизоваться в разных тенантах. Для этого в форме авторизации ему нужно установить чекбокс мультитенантной AD-авторизации и явно указать тенант при входе в Оркестратор. В результате AD-группа пользователя будет сопоставляться с ролью Оркестратора из указанного тенанта.
3.	Оптимизирована работа Роботов с очередью обмена данными. Для Роботов, считывающих элементы, появилась возможность настраивать тип реакции на блокировку элемента (только для PostgreSQL). Блокировка может возникать при извлечении элемента из очереди по FIFO, если в нее обратилось сразу несколько Роботов-читателей. Тип реакции устанавливается либо в конфигурационном файле WebApi в секции ExchangeQueue - глобально для всех очередей, либо на уровне отдельной очереди в UI Оркестратора. Для этого в UI, в разделе создания/изменения очереди, добавлены параметры:
o	Реакция на невозможность извлечения элемента по FIFO - определяет, что следует возвращать Роботу при блокировке элемента: null или ошибку.
	Значение Вернуть ошибку рекомендуется при обработке заранее подготовленной очереди, с которой работают только Роботы-читатели. Это позволяет отличить блокировку от случая, когда в очереди закончились элементы. Таким образом, null будет являться признаком завершения работы с очередью (очередь пустая).
	Значение Вернуть null рекомендуется выбирать при обработке динамической очереди, когда с ней одновременно работают Роботы-писатели и читатели. Тогда null будет возвращаться и при ошибке блокировки, и при пустой очереди, а сигналом завершения работы с очередью будет являться внешний признак. Например, достижение максимального количества итераций. Этот более производительный режим работы и предпочтителен при большой нагрузке.
o	Кол-во попыток при извлечении элемента по FIFO - параметр настраивается, только если в качестве реакции на невозможность извлечения элемента выбрано Вернуть ошибку. В этом случае при получении ошибки, связанной с блокировкой элемента, Робот будет пытаться получить элемент повторно указанное количество раз. Настройка может привести к увеличению времени извлечения элемента.
4.	В заданиях скрыт триггер Запуск при изменении очереди обмена данными. Теперь имеется только триггер Запуск при наличии новых элементов в очереди обмена данными, работающий асинхронно с добавлением элементов - время опроса очереди настраивается в параметрах. Улучшение призвано упростить использование триггеров, связанных с очередью обмена данными.
5.	Значительно ускорена работа раздела Мониторинг.
6.	Улучшены виджеты Использование лицензий Робота и Использование лицензий Студии в разделе Обзор. В их описании стало отображаться количество используемых и свободных лицензий. Ранее, чтобы узнать количество, требовалось навести курсор на кольцевую диаграмму.
7.	Изменилась проверка уникальности почтового адреса, указанного в учетной записи. Теперь email должен быть уникальным только в рамках тенанта, к которому принадлежит пользователь. Ранее проверка осуществлялась глобально, что не давало возможность указывать один и тот же почтовый адрес в разных тенантах.
8.	В журнал событий Оркестратора добавлены столбцы ID проекта и Проект. Они позволяют быстрее идентифицировать проект, к которому относится событие. Улучшение призвано повысить удобство чтения журнала.
9.	Максимальная длина имени Робота увеличена до 200 символов. Теперь названия могут быть более полными и ясными.
10.	Максимальная длина названия расписания увеличена до 250-ти символов.
11.	Улучшена форма добавления версии проекта:
o	название обновляемого проекта стало более заметным;
o	выпадающий список процессов стал открываться вверх, чтобы не заслонять название проекта.
12.	В шаблоне развертывания Робота поле Логи в консоль переименовано в Не выводить в консоль. Параметр включен по умолчанию.
13.	В форме добавления Робота, в расширенных параметрах, добавилась подсказка к полю Интервал. Она позволяет понять, как лучше сконфигурировать Робота.
Исправленные ошибки
1.	Исправлена ошибка, из-за которой невозможно было добавить новую версию проекта, если перед этим пользователь удалял неактивные версии.
2.	В журнал Робота попадало множество пустых логов. Ошибка исправлена.
3.	Исправлена ошибка, возникавшая при множественном нажатии кнопки Попросить остановиться для Робота, выполняющего проект с элементом Должен остановиться (Should stop). В результате этой ошибки Робот, после повторного запуска проекта, останавливался еще раз. Теперь этого не происходит.
4.	Устранена ошибка с зависанием статуса Робота в разделе Робот > Все Роботы. Статус мог отображаться некорректно.
5.	Невозможно было удалить задание с ручным запуском, если в очереди проектов была запись, ссылающаяся на него. Причина ошибки устранена.
6.	Исправлена ошибочная запись логов Робота в консоль при выключенном чекбоксе Логи в консоль в шаблоне развертывания.
7.	Оптимизирована работа фильтров в Оркестраторе. Они стали выдавать более корректный результат поиска.
8.	Исправлена ошибка с присутствием проекта в очищенной очереди выполнения. В разделе RPA-проекты, при очистке очереди, в ней не пропадал значок присутствия проекта до тех пор, пока страница не обновлялась вручную.
Оркестратор 23.9
Примечания к выпуску Оркестратора 23.9 описывают изменения для версии приложения, выпущенной в сентябре 2023 года.
Новые функции и улучшения
1.	Осуществлена миграция Оркестратора с Core 3.1 на платформу .NET 7. Главным преимуществом .NET 7 является повышенная производительность.
2.	Для IIS добавлена настройка видеотрансляции RDP-сессии робота. Ранее такая возможность существовала только для Nginx.
3.	В ресурсах Оркестратора добавился новый тип данных - JObject. Он позволяет записывать в переменную JSON-данные.
4.	В настройках пользователя добавлен новый тип события - «Срок действия лицензии истекает». При подписке на него пользователь станет получать соответствующие оповещения на электронную почту. Срок отправки оповещений, в том числе повторных, настраивается в конфигурационном файле службы States в секции LicenseExpired.
5.	В конфигурационный файл Оркестратора добавлена настройка, позволяющая ограничивать минимально допустимую версию Студии при ее подключении к Оркестратору. Параметр имеет название MinimumStudioVersion и размещен в секции StudioVersionChecker. В настройке также возможно задать тип поведения Студии в случае, если версия окажется меньше указанной. Функциональность предназначена помочь пользователям своевременно обновлять версии приложений.
6.	Для элементов очереди улучшена проверка уникальности натурального ключа. Теперь возможно указать, нужно ли при проверке учитывать ключи удаленных элементов. Настройки прописываются в конфигурационном файле Оркестратора в секции ExchangeQueue:
o	DeletedNaturalKeysIsGlobalUniqueRequired - параметр для натуральных ключей с глобальным типом уникальности. Если установлено true – удаленный элемент не будет участвовать в проверке.
o	DeletedNaturalKeysIsUniqueRequired - параметр для для натуральных ключей с локальным типом уникальности (внутри определенной очереди). Если установлено true – удаленный элемент не будет участвовать в проверке.
7.	Количество допустимых символов в названии расписания увеличено с 20-ти до 250-ти.
Исправленные ошибки
1.	Оптимизирована работа журнала робота. В целях улучшения было добавлено:
o	кратковременное кэширование для запроса операций робота;
o	долговременное кэширование для событий завершенной операции робота.
Таким образом, при частом обновлении страницы с операциями робота (одним пользователем или сразу несколькими), в ответ вернется результат из кэша без отправки запроса в БД.
2.	Исправлена ошибка, из-за которой не получалось запустить сразу несколько роботов по триггеру «Запуск из другого робота».
3.	Исправлена ошибка, связанная с настройками роли для AD-пользователей. При попытке изменить группы AD в настройках роли, новое значение не сохранялось.
4.	При попытке вручную запустить робот с проектом возникала ошибка доступа, хотя у пользователя имелись соответствующие права. Ошибка исправлена. Теперь, если в настройках роли включены права на управление роботами и проектами, запуск робота с проектом выполнится корректно.
5.	При нажатии в UI Оркестратора кнопки «Попросить остановиться» робот не останавливался. Проблема воспроизводилась при использовании конфигурации MSSQL + IIS. Ошибка исправлена.
6.	В UI исправлен некорректный порядок сортировки в таблице «RPA-проекты». Не работала сортировка по двум и более столбцам.

